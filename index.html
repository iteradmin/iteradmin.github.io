<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <link href="https://cdn.bootcss.com/iview/3.4.1/styles/iview.css" rel="stylesheet">
    <style>
        .new {
            padding-bottom: 20px;
        }
    </style>
    <title>数据新闻</title>
</head>
<body>
<div id="new">
    <Layout class="new">
        <Header style="background-color: #4b5470">
            <Row type="flex" justify="space-around" align="middle" :gutter="20" id="news">
                <i-col>
                    <img src="./logo.png" alt="标题">
                </i-col>
                <i-col>
                    <span style="color: wheat">
                        四川师范大学数据新闻作品
                    </span>
                </i-col>
            </Row>
        </Header>
        <Divider></Divider>
        <Content>
            <Row type="flex" justify="space-around" align="top">
                <i-col :xs="0" :lg="3">
                    <Anchor show-ink :offset-top="50">
                        <anchor-link href="#news" :title="title">
                            <anchor-link href="#firsts" :title="text1"></anchor-link>
                            <anchor-link href="#seconds" :title="text2"></anchor-link>
                            <anchor-link href="#thirds" :title="text3"></anchor-link>
                        </anchor-link>
                    </Anchor>
                </i-col>
                <i-col :xs="24" :lg="18">
                    <Card style="min-width:350px">
                        <div slot="title">
                            <h3 style="margin-bottom: 10px;">四川师范大学数据新闻作品</h3>
                            <i-button type="dashed" size="small" shape="circle">编辑：杨亚婷</i-button>
                            <i-button type="text" size="small" shape="circle">2019年05月10日 16:46:49</i-button>
                            <i-button type="primary" size="small" shape="circle">来源： 新华网</i-button>
                        </div>
                        <template slot="extra">
                            <Avatar size="large" src="https://i.loli.net/2017/08/21/599a521472424.jpg"/>
                        </template>
                        <Row type="flex" align="top" id="firsts" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h3>{{text1}}</h3>
                            </i-col>
                        </Row>
                        <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                        <div id="first" style="height:400px">图表1</div>
                        <Row type="flex" justify="center" align="middle" :gutter="20">
                            <i-col>
                                <i-button type="info" size="small" shape="circle" @click="initChart('age')">年龄
                                </i-button>
                            </i-col>
                            <i-col>
                                <i-button type="success" size="small" shape="circle" @click="initChart('sex')">性别
                                </i-button>
                            </i-col>
                            <i-col>
                                <i-button type="primary" size="small" shape="circle" @click="initChart('income')">收入
                                </i-button>
                            </i-col>
                        </Row>
                        <Row type="flex" align="top" id="seconds" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h3>{{text2}}</h3>
                            </i-col>
                        </Row>
                        <Row type="flex" align="top" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h4>{{'不同性别点赞原因'}}</h4>
                            </i-col>
                        </Row>
                        <div id="second" style="height:200px">图表2</div>
                        <Row type="flex" align="top" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h4>{{'不同年龄与不点赞原因'}}</h4>
                            </i-col>
                        </Row>
                        <div id="second2" style="height:200px">图表2</div>
                        <Row type="flex" align="top" id="thirds" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h3>{{text3}}</h3>
                            </i-col>
                        </Row>
                        <div id="third" style="height:400px">图表3</div>

                    </Card>
                </i-col>
            </Row>
            <back-top></back-top>
        </Content>
        <Divider>The End</Divider>
        <Footer>
            <Row type="flex" justify="center" align="middle">
                <i-col>
                    四川师范大学影视与传媒学院学生作品
                </i-col>
            </Row>
            <Row type="flex" justify="center" align="middle">
                <i-col>
                    指导老师：杨亚婷
                </i-col>
            </Row>
            <Row type="flex" justify="center" align="middle">
                <i-col>
                    作者团队：杨亚婷、杨亚婷、杨亚婷、杨亚婷
                </i-col>
            </Row>
            <Row type="flex" justify="center" align="middle">
                <i-col>
                    联系方式：
                </i-col>
            </Row>
        </Footer>
    </Layout>
</div>
<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
<script src="https://cdn.bootcss.com/iview/3.4.1/iview.min.js"></script>
<script src="https://cdn.bootcss.com/require.js/2.3.6/require.min.js"></script>
<script src="https://echarts.baidu.com/build/dist/echarts.js"></script>
<script>
	new Vue({
		el: '#new',
		data() {
			return {
				title: '四川师范大学数据新闻作品',
				text1: '一、态度分析',
				text2: '二、行为分析',
				text3: '三、强制性点赞对集赞行为的影响分析',
				ec: null,
				data: {
					sex: {
						tooltip: {
							trigger: 'axis'
						},
						toolbox: {
							show: true,
							y: 'bottom',
							feature: {
								magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
								restore: {show: true},
								saveAsImage: {show: true}
							}
						},
						calculable: true,
						legend: {
							data: ['很反对', '可以接受', '无所谓', '支持']
						},
						xAxis: [
							{
								type: 'category',
								splitLine: {show: false},
								data: ['很反对', '可以接受', '无所谓', '支持']
							}
						],
						yAxis: [
							{
								type: 'value',
								position: 'left'
							}
						],
						series: [
							{
								name: '男',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [180, 590, 570, 30]
							},
							{
								name: '女',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [90, 1470, 1120, 40]
							},
							{
								name: '合计',
								type: 'line',
								data: [270, 2060, 1690, 70]
							},
							{
								name: '数据分析',
								type: 'pie',
								tooltip: {
									trigger: 'item',
									formatter: '{a} <br/>{b} : {c} ({d}%)'
								},
								center: [160, 130],
								radius: [0, 50],
								itemStyle: {
									normal: {
										labelLine: {
											length: 20
										}
									}
								},
								data: [
									{value: 270, name: '很反对'},
									{value: 2060, name: '可以接受'},
									{value: 1690, name: '无所谓'},
									{value: 70, name: '支持'}
								]
							}
						]
					},
					age: {
						tooltip: {
							trigger: 'axis'
						},
						toolbox: {
							show: true,
							y: 'bottom',
							feature: {
								magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
								restore: {show: true},
								saveAsImage: {show: true}
							}
						},
						calculable: true,
						legend: {
							data: ['很反对', '可以接受', '无所谓', '支持']
						},
						xAxis: [
							{
								type: 'category',
								splitLine: {show: false},
								data: ['很反对', '可以接受', '无所谓', '支持']
							}
						],
						yAxis: [
							{
								type: 'value',
								position: 'left'
							}
						],
						series: [
							{
								name: '18以下',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [40, 120, 100, 10]
							},
							{
								name: '18-24',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [120, 1440, 1100, 40]
							},
							{
								name: '24-30',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [10, 80, 160, 0]
							},
							{
								name: '30-40',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [40, 140, 140, 20]
							},
							{
								name: '40以上',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [60, 250, 180, 0]
							},
							{
								name: '合计',
								type: 'line',
								data: [270, 2060, 1690, 70]
							},
							{
								name: '数据分析',
								type: 'pie',
								tooltip: {
									trigger: 'item',
									formatter: '{a} <br/>{b} : {c} ({d}%)'
								},
								center: [160, 130],
								radius: [0, 50],
								itemStyle: {
									normal: {
										labelLine: {
											length: 20
										}
									}
								},
								data: [
									{value: 1370, name: '很反对'},
									{value: 1370, name: '可以接受'},
									{value: 1370, name: '无所谓'},
									{value: 2720, name: '支持'}
								]
							}
						]
					},
					income: {
						tooltip: {
							trigger: 'axis'
						},
						toolbox: {
							show: true,
							y: 'bottom',
							feature: {
								magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
								restore: {show: true},
								saveAsImage: {show: true}
							}
						},
						calculable: true,
						legend: {
							data: ['很反对', '可以接受', '无所谓', '支持']
						},
						xAxis: [
							{
								type: 'category',
								splitLine: {show: false},
								data: ['很反对', '可以接受', '无所谓', '支持']
							}
						],
						yAxis: [
							{
								type: 'value',
								position: 'left'
							}
						],
						series: [
							{
								name: '500以下',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [30, 150, 180, 20]
							},
							{
								name: '500-2000',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [160, 1350, 930, 40]
							},
							{
								name: '2000-5000',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [30, 420, 350, 10]
							},
							{
								name: '5000-10000',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [30, 80, 180, 0]
							},
							{
								name: '10000以上',
								type: 'bar',
								tooltip: {trigger: 'item'},
								data: [10, 30, 20, 0]
							},
							{
								name: '合计',
								type: 'line',
								data: [270, 2060, 1690, 70]
							},
							{
								name: '数据分析',
								type: 'pie',
								tooltip: {
									trigger: 'item',
									formatter: '{a} <br/>{b} : {c} ({d}%)'
								},
								center: [160, 130],
								radius: [0, 50],
								itemStyle: {
									normal: {
										labelLine: {
											length: 20
										}
									}
								},
								data: [
									{value: 1370, name: '很反对'},
									{value: 1370, name: '可以接受'},
									{value: 1370, name: '无所谓'},
									{value: 2720, name: '支持'}
								]
							}
						]
					},
				}
			};
		},
		methods: {
			initChart(flag) {
				var myChart = this.ec.init(document.getElementById('first'));

				var option = this.data[flag];
				// 为echarts对象加载数据
				myChart.setOption(option);
			}
		},
		mounted() {
			let self = this;

			// 路径配置
			require.config({
				paths: {
					echarts: 'https://echarts.baidu.com/build/dist'
				}
			});
			// 使用
			require(
					[
						'echarts',
						'echarts/chart/bar', // 使用柱状图就加载bar模块，按需加载
						'echarts/chart/line',
						'echarts/chart/radar',
						'echarts/chart/pie'
					],
					function (ec) {
						self.ec = ec;
						(function (ec) {
							var myChart = ec.init(document.getElementById('first'));

							var option = self.data.sex;
							// 为echarts对象加载数据
							myChart.setOption(option);
						})(ec);
						(function (ec) {// 基于准备好的dom，初始化echarts图表
							var myChart = ec.init(document.getElementById('second'));

							var option = {
								tooltip: {
									trigger: 'axis',
									axisPointer: {            // 坐标轴指示器，坐标轴触发有效
										type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
									}
								},
								legend: {
									data: ['迫于人情压力，被动点赞', '对此活动好奇，感兴趣', '无所谓，顺手点赞，表示朕已阅', '其他']
								},
								calculable: true,
								xAxis: [
									{
										type: 'value'
									}
								],
								yAxis: [
									{
										type: 'category',
										data: ['男', '女']
									}
								],
								series: [
									{
										name: '迫于人情压力，被动点赞',
										type: 'bar',
										stack: '总量',
										itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
										data: [320, 302]
									},
									{
										name: '对此活动好奇，感兴趣',
										type: 'bar',
										stack: '总量',
										itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
										data: [120, 132]
									},
									{
										name: '无所谓，顺手点赞，表示朕已阅',
										type: 'bar',
										stack: '总量',
										itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
										data: [220, 182]
									},
									{
										name: '其他',
										type: 'bar',
										stack: '总量',
										itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
										data: [150, 212]
									}
								]
							};


							// 为echarts对象加载数据
							myChart.setOption(option);
						})(ec);
						(function (ec) {// 基于准备好的dom，初始化echarts图表
							var myChart = ec.init(document.getElementById('second2'));

							var option = {
								tooltip: {
									trigger: 'axis',
									axisPointer: {            // 坐标轴指示器，坐标轴触发有效
										type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
									}
								},
								legend: {
									data: ['迫于人情压力，被动点赞', '对此活动好奇，感兴趣', '无所谓，顺手点赞，表示朕已阅', '其他']
								},
								calculable: true,
								xAxis: [
									{
										type: 'value'
									}
								],
								yAxis: [
									{
										type: 'category',
										data: ['男', '女']
									}
								],
								series: [
									{
										name: '迫于人情压力，被动点赞',
										type: 'bar',
										stack: '总量',
										itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
										data: [320, 302]
									},
									{
										name: '对此活动好奇，感兴趣',
										type: 'bar',
										stack: '总量',
										itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
										data: [120, 132]
									},
									{
										name: '无所谓，顺手点赞，表示朕已阅',
										type: 'bar',
										stack: '总量',
										itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
										data: [220, 182]
									},
									{
										name: '其他',
										type: 'bar',
										stack: '总量',
										itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
										data: [150, 212]
									}
								]
							};


							// 为echarts对象加载数据
							myChart.setOption(option);
						})(ec);
						(function (ec) {// 基于准备好的dom，初始化echarts图表
							var myChart = ec.init(document.getElementById('third'));

							var option = {
								title: {
									text: '预算 vs 开销（Budget vs spending）',
									subtext: '纯属虚构'
								},
								tooltip: {
									trigger: 'axis'
								},
								legend: {
									orient: 'vertical',
									x: 'right',
									y: 'bottom',
									data: ['预算分配（Allocated Budget）', '实际开销（Actual Spending）']
								},
								toolbox: {
									show: true,
									feature: {
										mark: {show: true},
										dataView: {show: true, readOnly: false},
										restore: {show: true},
										saveAsImage: {show: true}
									}
								},
								polar: [
									{
										indicator: [
											{text: '销售（sales）', max: 6000},
											{text: '管理（Administration）', max: 16000},
											{text: '信息技术（Information Techology）', max: 30000},
											{text: '客服（Customer Support）', max: 38000},
											{text: '研发（Development）', max: 52000},
											{text: '市场（Marketing）', max: 25000}
										]
									}
								],
								calculable: true,
								series: [
									{
										name: '预算 vs 开销（Budget vs spending）',
										type: 'radar',
										data: [
											{
												value: [4300, 10000, 28000, 35000, 50000, 19000],
												name: '预算分配（Allocated Budget）'
											},
											{
												value: [5000, 14000, 28000, 31000, 42000, 21000],
												name: '实际开销（Actual Spending）'
											}
										]
									}
								]
							};


							// 为echarts对象加载数据
							myChart.setOption(option);
						})(ec);
					}
			);
		}
	});
</script>
</body>
</html>