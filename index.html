<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="icon" href="favicon.ico" mce_href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" mce_href="favicon.ico" type="image/x-icon">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <link href="https://cdn.bootcss.com/iview/3.4.1/styles/iview.css" rel="stylesheet">
    <style>
        .new {
            padding-bottom: 20px;
        }
    </style>
    <title>四川师范大学数据新闻作品</title>
</head>
<body>
<div id="new">
    <Layout class="new">
        <Header style="background-color: #4b5470">
            <Row type="flex" justify="space-around" align="middle" id="news">
                <i-col>
                    <img src="./logo.png" alt="标题">
                </i-col>
                <i-col>
                    <span style="color: wheat">
                        四川师范大学数据新闻作品
                    </span>
                </i-col>
            </Row>
        </Header>
        <Divider></Divider>
        <input class="js_upFile cover1" type="file" name="cover" accept="image/*" capture="camera" multiple/>
        <input class="js_upFile cover1" type="file" name="cover"/>
        <Content>
            <Row type="flex" justify="space-around" align="top">
                <i-col :xs="0" :lg="3">
                    <anchor :offset-top="50" container="body">
                        <anchor-link href="#news" :title="title">
                            <anchor-link href="#firsts" :title="text1"></anchor-link>
                            <anchor-link href="#seconds" :title="text2"></anchor-link>
                            <anchor-link href="#thirds" :title="text3"></anchor-link>
                        </anchor-link>
                    </anchor>
                </i-col>
                <i-col :xs="24" :lg="18">
                    <Card style="min-width:350px">
                        <div slot="title">
                            <h3 style="margin-bottom: 10px;">四川师范大学数据新闻作品</h3>
                            <i-button type="dashed" size="small" shape="circle">编辑：杨亚婷</i-button>
                            <i-button type="text" size="small" shape="circle">2019年05月10日 16:46:49</i-button>
                            <i-button type="primary" size="small" shape="circle">来源： 新华网</i-button>
                        </div>
                        <template slot="extra">
                            <Avatar size="large" src="https://i.loli.net/2017/08/21/599a521472424.jpg"/>
                        </template>
                        <Row type="flex" align="top" id="firsts" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h3>{{text1}}</h3>
                            </i-col>
                        </Row>
                        <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                        <div id="first" style="height:400px">图表1</div>
                        <Row type="flex" justify="center" align="middle" :gutter="20">
                            <i-col>
                                <i-button type="info" size="small" shape="circle" @click="initChart('age')">年龄
                                </i-button>
                            </i-col>
                            <i-col>
                                <i-button type="success" size="small" shape="circle" @click="initChart('sex')">性别
                                </i-button>
                            </i-col>
                            <i-col>
                                <i-button type="primary" size="small" shape="circle" @click="initChart('income')">收入
                                </i-button>
                            </i-col>
                        </Row>
                        <Row type="flex" align="top" id="seconds" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h3>{{text2}}</h3>
                            </i-col>
                        </Row>
                        <Row type="flex" align="top" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h4>{{'不同性别点赞原因'}}</h4>
                            </i-col>
                        </Row>
                        <div id="second" style="height:300px">图表2</div>
                        <Row type="flex" align="top" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h4>{{'不同年龄与不点赞原因'}}</h4>
                            </i-col>
                        </Row>
                        <div id="second2" style="height:300px">图表2</div>
                        <Row type="flex" align="top" id="thirds" style="margin-top:30px;margin-bottom: 10px;">
                            <i-col>
                                <h3>{{text3}}</h3>
                            </i-col>
                        </Row>
                        <div id="third" style="height:400px">图表3</div>

                    </Card>
                </i-col>
            </Row>
            <back-top></back-top>
        </Content>
        <Divider>The End</Divider>
        <Footer>
            <Row type="flex" justify="center" align="middle">
                <i-col>
                    四川师范大学影视与传媒学院学生作品
                </i-col>
            </Row>
            <Row type="flex" justify="center" align="middle">
                <i-col>
                    指导老师：杨亚婷
                </i-col>
            </Row>
            <Row type="flex" justify="center" align="middle">
                <i-col>
                    作者团队：杨亚婷、杨亚婷、杨亚婷、杨亚婷
                </i-col>
            </Row>
            <Row type="flex" justify="center" align="middle">
                <i-col>
                    联系方式：
                </i-col>
            </Row>
        </Footer>
    </Layout>
</div>
<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
<script src="https://cdn.bootcss.com/iview/3.4.1/iview.min.js"></script>
<script src="https://cdn.bootcss.com/require.js/2.3.6/require.min.js"></script>
<script src="https://echarts.baidu.com/build/dist/echarts.js"></script>
<script>
    new Vue({
        el: '#new',
        data() {
            return {
                title: '四川师范大学数据新闻作品',
                text1: '一、态度分析',
                text2: '二、行为分析',
                text3: '三、强制性点赞对集赞行为的影响分析',
                ec: null,
                data: {
                    sex: {
                        tooltip: {
                            trigger: 'axis'
                        },
                        toolbox: {
                            show: true,
                            y: 'bottom',
                            feature: {
                                magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                                restore: {show: true},
                                saveAsImage: {show: true}
                            }
                        },
                        legend: {
                            data: ['很反对', '可以接受', '无所谓', '支持']
                        },
                        xAxis: [
                            {
                                type: 'category',
                                splitLine: {show: false},
                                data: ['男', '女']
                            }
                        ],
                        yAxis: [
                            {
                                type: 'value',
                                position: 'left'
                            }
                        ],
                        series: [
                            {
                                name: '很反对',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [180, 90]
                            },
                            {
                                name: '可以接受',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [590, 1470]
                            },
                            {
                                name: '无所谓',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [570, 1120]
                            },
                            {
                                name: '支持',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [40, 30]
                            },
                            {
                                name: '数据分析',
                                type: 'pie',
                                tooltip: {
                                    trigger: 'item',
                                    formatter: '{a} <br/>{b} : {c} ({d}%)'
                                },
                                center: [225, 130],
                                radius: [0, 50],
                                itemStyle: {
                                    normal: {
                                        labelLine: {
                                            length: 20
                                        }
                                    }
                                },
                                data: [
                                    {value: 270, name: '很反对'},
                                    {value: 2060, name: '可以接受'},
                                    {value: 1690, name: '无所谓'},
                                    {value: 70, name: '支持'}
                                ]
                            }
                        ]
                    },
                    age: {
                        tooltip: {
                            trigger: 'axis'
                        },
                        toolbox: {
                            show: true,
                            y: 'bottom',
                            feature: {
                                magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                                restore: {show: true},
                                saveAsImage: {show: true}
                            }
                        },
                        legend: {
                            data: ['很反对', '可以接受', '无所谓', '支持']
                        },
                        xAxis: [
                            {
                                type: 'category',
                                splitLine: {show: false},
                                data: ['18以下', '18-24', '24-30', '30-40', '40以上']
                            }
                        ],
                        yAxis: [
                            {
                                type: 'value',
                                position: 'left'
                            }
                        ],
                        series: [
                            {
                                name: '很反对',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [40, 120, 10, 40, 60]
                            }, {
                                name: '可以接受',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [120, 1440, 80, 140, 280]
                            }, {
                                name: '无所谓',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [100, 1100, 160, 140, 190]
                            }, {
                                name: '支持',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [10, 40, 0, 20, 0]
                            },
                            {
                                name: '数据分析',
                                type: 'pie',
                                tooltip: {
                                    trigger: 'item',
                                    formatter: '{a} <br/>{b} : {c} ({d}%)'
                                },
                                center: [525, 130],
                                radius: [0, 50],
                                itemStyle: {
                                    normal: {
                                        labelLine: {
                                            length: 20
                                        }
                                    }
                                },
                                data: [
                                    {value: 270, name: '很反对'},
                                    {value: 2020, name: '可以接受'},
                                    {value: 1690, name: '无所谓'},
                                    {value: 70, name: '支持'}
                                ]
                            }
                        ]
                    },
                    income: {
                        tooltip: {
                            trigger: 'axis'
                        },
                        toolbox: {
                            show: true,
                            y: 'bottom',
                            feature: {
                                magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                                restore: {show: true},
                                saveAsImage: {show: true}
                            }
                        },
                        legend: {
                            data: ['很反对', '可以接受', '无所谓', '支持']
                        },
                        xAxis: [
                            {
                                type: 'category',
                                splitLine: {show: false},
                                data: ['500以下', '500-2000', '2000-5000', '5000-10000', '10000以上']
                            }
                        ],
                        yAxis: [
                            {
                                type: 'value',
                                position: 'left'
                            }
                        ],
                        series: [
                            {
                                name: '很反对',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [30, 160, 30, 30, 20]
                            },
                            {
                                name: '可以接受',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [150, 1350, 420, 80, 60]
                            },
                            {
                                name: '无所谓',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [180, 930, 350, 180, 50]
                            },
                            {
                                name: '支持',
                                type: 'bar',
                                tooltip: {trigger: 'item'},
                                data: [20, 40, 10, 0, 0]
                            },
                            {
                                name: '数据分析',
                                type: 'pie',
                                tooltip: {
                                    trigger: 'item',
                                    formatter: '{a} <br/>{b} : {c} ({d}%)'
                                },
                                center: [525, 130],
                                radius: [0, 50],
                                itemStyle: {
                                    normal: {
                                        labelLine: {
                                            length: 20
                                        }
                                    }
                                },
                                data: [
                                    {value: 270, name: '很反对'},
                                    {value: 2020, name: '可以接受'},
                                    {value: 1690, name: '无所谓'},
                                    {value: 70, name: '支持'}
                                ]
                            }
                        ]
                    },
                }
            };
        },
        methods: {
            initChart(flag) {
                var myChart = this.ec.init(document.getElementById('first'));

                var option = this.data[flag];
                // 为echarts对象加载数据
                myChart.setOption(option);
            }
        },
        mounted() {
            var self = this;

            // 路径配置
            require.config({
                paths: {
                    echarts: 'https://echarts.baidu.com/build/dist'
                }
            });
            // 使用
            require(
                [
                    'echarts',
                    'echarts/chart/bar', // 使用柱状图就加载bar模块，按需加载
                    'echarts/chart/line',
                    'echarts/chart/radar',
                    'echarts/chart/pie'
                ],
                function (ec) {
                    self.ec = ec;
                    (function (ec) {
                        var myChart = ec.init(document.getElementById('first'));

                        var option = self.data.sex;
                        // 为echarts对象加载数据
                        myChart.setOption(option);
                    })(ec);
                    (function (ec) {// 基于准备好的dom，初始化echarts图表
                        var myChart = ec.init(document.getElementById('second'));

                        var option = {
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                                    type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                                }
                            },
                            legend: {
                                data: ['都是朋友，主动点赞', '迫于人情压力，被动点赞', '对此活动好奇，感兴趣', '顺手点赞，表示朕已阅', '其他']
                            },
                            xAxis: [
                                {
                                    type: 'value'
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'category',
                                    data: ['男', '女']
                                }
                            ],
                            series: [
                                {
                                    name: '都是朋友，主动点赞',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [800, 1930]
                                },
                                {
                                    name: '迫于人情压力，被动点赞',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [240, 620]
                                },
                                {
                                    name: '对此活动好奇，感兴趣',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [290, 520]
                                },
                                {
                                    name: '顺手点赞，表示朕已阅',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [550, 1140]
                                },
                                {
                                    name: '其他',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [90, 250]
                                }
                            ]
                        };
                        myChart.setOption(option);
                    })(ec);
                    (function (ec) {// 基于准备好的dom，初始化echarts图表
                        var myChart = ec.init(document.getElementById('second2'));

                        var option = {
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                                    type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                                }
                            },
                            legend: {
                                data: ['对此活动不感兴趣，漠不关心', '和集赞人效果一般', '讨厌此类刷屏活动', '其他']
                            },
                            xAxis: [
                                {
                                    type: 'value'
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'category',
                                    data: ['12-28岁', '18-24岁', '24-30岁', '30-40岁', '40以上']
                                }
                            ],
                            series: [
                                {
                                    name: '对此活动不感兴趣，漠不关心',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [130, 1220, 100, 110, 250]
                                },
                                {
                                    name: '和集赞人效果一般',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [140, 1280, 110, 90, 70]
                                },
                                {
                                    name: '讨厌此类刷屏活动',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [80, 1180, 50, 80, 160]
                                },
                                {
                                    name: '其他',
                                    type: 'bar',
                                    stack: '总量',
                                    itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                    data: [110, 700, 70, 150, 270]
                                }
                            ]
                        };


                        // 为echarts对象加载数据
                        myChart.setOption(option);
                    })(ec);
                    (function (ec) {// 基于准备好的dom，初始化echarts图表
                        var myChart = ec.init(document.getElementById('third'));

                        var option = {
                            title: {
                                text: '皮尔森'
                            },
                            tooltip: {
                                trigger: 'axis'
                            },
                            legend: {
                                orient: 'vertical',
                                x: 'right',
                                y: 'bottom',
                                data: ['皮尔森系数']
                            },
                            polar: [
                                {
                                    indicator: [
                                        {text: '性别（sex）', max: 0.1},
                                        {text: '年龄（age）', max: 0.1},
                                        {text: '收入（income）', max: 0.1}
                                    ]
                                }
                            ],
                            series: [
                                {
                                    name: '皮尔森系数',
                                    type: 'radar',
                                    data: [
                                        {
                                            value: [0.058, 0.070, 0.010],
                                            name: '皮尔森系数'
                                        }
                                    ]
                                }
                            ]
                        };


                        // 为echarts对象加载数据
                        myChart.setOption(option);
                    })(ec);
                }
            );
        }
    });
</script>
</body>
</html>